<!DOCTYPE html>
<html class="page page_en" lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Simple yet promising structure for React/Redux project</title>
    <link rel="icon" type="image/x-icon" href="favicon.ico"/>
    <link  rel="stylesheet" href="/desktop.bundles/index/index.min.css" />
    <script>
    (function(d, s, l, r) {
    if (typeof(s) !== 'undefined' && l.getItem('varya.me.fonts')) {
        r = [
            '<style>',
            l.getItem('varya.me.fonts'),
            '</style>'
        ];
        document.write(r.join(''));
    }

    })(document, Storage, localStorage);
  </script>
  <meta content='Very simple React/Redux project structure with a lot of space for evolving into bigger but still neat project. This is an extract from real project of migrating large e-commerce website from old-school stack to modern cutting edge solutions.
' property="og:description"/><meta content="http://varya.me/posts/react-redux-simple-project/thumb.png" property="og:image"/><meta content="Simple yet promising structure for React/Redux project" property="og:title"/><meta content="http://varya.me/en/posts/react-redux-simple-project/" property="og:url"/><meta property="og:site_name" content="var ya;"/><meta property="og:type" content="article"/><meta property="og:locale" content="en_US"/> <meta property="article:author" content="https://www.facebook.com/toivonens"/>
</head>
<body class="page page__body">
    <header class="header">
        <div class="header__left candies i-bem"
            data-bem='{ "candies" : { "size" : { "max" : 28, "min" : 12 }, "reverse" : true } }'></div>
        <div class="header__center">
            <logo class="logo"><span class="logo__dots">···</span><b class="var">var</b>·<b class="ya">ya</b>;<b class="cursor"></b></logo>
        </div>
        <div class="header__right candies i-bem"
            data-bem='{ "candies" : { "size" : { "max" : 28, "min" : 12 } } }'></div>
    </header>
    <div class="layout">
        <section class="main">
            <ul class="languages">
            
                <li class="languages__lang">
                    
                        en
                    
                </li>
                
                <li class="languages__lang">
                    
                    <a href="/ru/">
                        ru
                    </a>
                    
                </li>
                
            </ul>
            <div class="article" role="main">
    <div class="article__body box__body">
        <h1 class="article__header">
            Simple yet promising structure for React/Redux project
        </h1>
    </div>
    <div class="article__text box__island">
        <script type="text/javascript" src="//yandex.st/share/share.js"
        charset="utf-8"></script>
        <div class="share yashare-auto-init" data-yashareL10n="{{ lang }}"
            data-yashareQuickServices="twitter,facebook,gplus" data-yashareTheme="counter"
        ></div>
        <span class="article__details author vcard">
            Published on
            21st November 2016
        </span>
        <p>Two weeks ago, I have started a new project of migrating a large website to React. Although this is not developing from
scratch but refactoring, there still was a great chance to reconsider the project file structure in its client part.</p>
<p>As a proof-of-concept, I have chosen a pair of components: shopping cart and adding button. This is e-commerce what we
are building here :-) My initial goal was to create simple components and demonstrate their reusing as well as introduce
Redux as a glue to the components in the data area. As a result, I think I provided a nice and neat structure which
helps a developer to understand what serves what. On the other hand, I tried to keep it simple. In the beginning, there
is no need in overcomplicated.</p>
<p><excerpt/>
In this post, I present the initial state of the project structure, extracted from the working repository. In our actual
project, it has already evolved to use other patterns and helping tools. I hope I will make it to present these changes
in the following posts.</p>
<p>The demonstrative extract is a public repository at
<a href="https://github.com/varya/react-redux-project">varya/react-redux-project</a>. To run it locally, you need to check it out
run <code>npm install</code> and then <code>npm start</code>. You will see a page, similar to what is <a href="http://varya.me/react-redux-project/index.html">hosted
here</a>.</p>
<p>In this page, two React components are sharing one data store. You can see how the number in <code>Cart</code> increments every
time you click a button.</p>
<p>Now, let&#39;s have a look at the project file structure. You will find all the source files in <code>src</code> folder in the
repository:</p>
<pre class="highlight"><code class="hljs stylus">src/
  components/
    AddToCartButton/
    Button/
    Cart/
    Icon/
  containers/
    AddToCartButton/
  redux/
    modules/
      cart<span class="hljs-class">.js</span>
      reducer<span class="hljs-class">.js</span>
  index<span class="hljs-class">.js</span>
</code></pre><p>The <code>components</code> folder is dedicated for representative, &quot;static&quot; components. The components can reuse one another. For
example, in the project, the <code>AddToCartButton</code> wraps the <code>Button</code>.</p>
<p>On the file system, each component is a folder. Inside there are usually <code>index.js</code>, almost always <code>style.css</code> and other
files such as images if needed. I used to name the JavaScript file by the component name, like <code>Button.js</code> and
<code>Button.css</code>. But in this
project, I tried more unified structure. It turned out to be very handy, especially in the beginning, when we make a lot
of small components. Now the component folders can be copied and renamed easily.</p>
<p>Next folder is named <code>containers</code>. It is for the wrappers around the components. These wrappers often have the same
names. Unlike representative components, which only know about how to render the data, the containers are for getting
the data and passing it down. Technically the containers are also React components, but they are decorated with
<code>connect</code> from Redux. This provides the glue for view and data. You can see typical container here:
<a href="https://github.com/varya/react-redux-project/blob/eb0e7a24ba8a723ce373d3763c299b95661fdfc6/src/containers/AddToCartButton/index.js">src/containers/AddToCartButton</a></p>
<p>For the data, the containers use reducers from Redux. The project is made in a hope for future growing. This is why the
reducers are divided into modules (meaning, separate files) according to what are the entities they operate with. They
are stores in <a href="https://github.com/varya/react-redux-project/tree/master/src/redux/modules">src/modules</a> directory. It
has yet one module and the
<a href="https://github.com/varya/react-redux-project/blob/master/src/redux/modules/reducer.js">src/modules/reducer.js</a> which
combines them all.</p>
<p>Take a look at the module code.</p>
<pre class="highlight"><code class="hljs javascript"><span class="hljs-keyword">const</span> ADD = <span class="hljs-string">'cart/ADD'</span>;

<span class="hljs-keyword">const</span> initialState = {
  goods: <span class="hljs-number">0</span>
};

export <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cart</span><span class="hljs-params">(state = initialState, action = {})</span> </span>{

  <span class="hljs-keyword">switch</span> (action.type) {
    <span class="hljs-keyword">case</span> ADD:
      <span class="hljs-keyword">return</span> {
        ...state,
        goods: ++state.goods
      }
    <span class="hljs-keyword">default</span>:
      <span class="hljs-keyword">return</span> state;
  }

}

export <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-keyword">return</span> {
    type: ADD
  }
}
</code></pre>
<p>This style of organizing reducers is called <a href="https://github.com/erikras/ducks-modular-redux">Ducks</a>.</p>
<p>The entering file of the application <a href="https://github.com/varya/react-redux-project/blob/master/src/index.js">src/index.js</a>
takes the components or containers, makes the Redux store and creates the app with them. In here, you can also decorate
representative components with Redux&#39; <code>connect</code> if they do not have a special container.</p>
<p>As the following weeks showed, this structure turned out to be very convenient. Of course, it has evolved more. I hope
to cover the changes in the next posts.</p>

    </div>
    <div class="comments">
        <div class="comments__box box__body">
            <h4 class="comments__header">
                Comments
            </h4>
        </div>
        <div class="comments__body box__island">
            
              
                  <div id="disqus_thread"></div>
<script>
	(function(){
		window.disqus_shortname = 'varya';
		window.disqus_developer = '1';
		window.disqus_url = 'http://varya.me//en/posts/react-redux-simple-project';
		window.disqus_identifier = 'posts-react-redux-simple-project-index-en';
		window.disqus_title = 'Simple yet promising structure for React/Redux project';
		if ( window.DISQUS ) {
			return DISQUS.reset({
				reload: true,
				config: function () {
					this.page.identifier = window.disqus_identifier;
					this.page.url = window.disqus_url;
					this.page.title = window.disqus_title;
				}
			});
		}
		else {
		  var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		  dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
		  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		}
	})();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
              
            
        </div>
    </div>
    <div class="related">
        <div class="related__body box__body">
            <h4 class="related__header">
                By the way
            </h4>
        </div>
        <div class="related__text box__island">
                <a href="https://github.com/varya/varya.github.com/issues/new?title=Feedback for Simple yet promising structure for React/Redux project">
                Create a GitHub issue for me</a> if you've spotted a typo or a mistake, or wish to add something on.
                Or you can
                <a href="https://github.com/varya/varya.github.com/edit/develop/src/documents/posts/react-redux-simple-project/index_en.html.md">edit this post yourself and make me a patch</a>.
        </div>
    </div>
</div>
        </section>
        <nav class="sidebar">
        <ul class="menu-vert">
            <h3 class="menu-vert__title box__title">
                On this site
            </h3>
            
                <li class="menu-vert__item ">
                    <a class="link" href="/en/posts">
                        Tech Blog
                    </a>
                </li>
            
                <li class="menu-vert__item ">
                    <a class="link" href="/en/content">
                        Articles and talks
                    </a>
                </li>
            
                <li class="menu-vert__item ">
                    <a class="link" href="/">
                        About me
                    </a>
                </li>
            
                <li class="menu-vert__item ">
                    <a class="link" href="/en/life">
                        My life
                    </a>
                </li>
            
            </ul>
            <div class="github i-bem box github_not-ready"
                data-bem='{ "github" : { "user" : "varya" } }'>
                <div class="github__header box__title">
                  Last updated repos
                </div>
                <ul class="github__body"></ul>
            </div>
        </nav>
        <aside class="prompting">
            <ul class="social-ico menu-vert">
                <li class="menu-vert__item">
                    <ul class="social-ico__text menu-vert">
                        <li class="menu-vert__item">
                            <a class="link social-ico__rss-text" href="/en/feed.xml" title="New on Varya.me in English">en</a>
                        </li>
                        <li class="menu-vert__item">
                            <a class="link social-ico__rss-text" href="/ru/feed.xml" title="Новые записи на Varya.me">ru</a>
                        </li>
                    </ul>
                    <a class="link social-ico__ico social-ico__ico_type_rss" href="/feed.xml" title="New on Varya.me"></a>
                </li>
                <li class="menu-vert__item">
                <a class="link social-ico__ico social-ico__ico_type_twitter"
                    href="https://twitter.com/varya_en"
                    title="@varya_en"
                    target="_blank"></a>
                </li>
                <li class="menu-vert__item">
                    <a class="link social-ico__ico social-ico__ico_type_github" href="https://github.com/varya" target="_blank"></a>
                </li>
                <li class="menu-vert__item">
                    <a class="link social-ico__ico social-ico__ico_type_facebook" href="http://www.facebook.com/varvara.stepanova.9" target="_blank"></a>
                </li>
                <li class="menu-vert__item">
                    <a class="link social-ico__ico social-ico__ico_type_linkedin" href="http://www.linkedin.com/pub/varvara-stepanova/30/72a/96b" target="_blank"></a>
                </li>
            </ul>
        </aside>
    </div>
    <div class="footer__outer">
        <footer class="footer">
            <div class="footer__left">
            </div>
            <div class="footer__center">
                <a class="link  link_text  link_wrapper" href="http://varya.me/">
                    © 2016
                    <span class="link__inner">Varya Stepanova</span>.
                </a>
                <a class="link  link_wrapper  link_twitter"
                    href="https://twitter.com/varya_en"
                    title="@varya_en">
                    <img alt="Twitter" class="ico" src="http://favicon.yandex.net/favicon/twitter.com" title="Twitter"/>
                    <span class="link__inner">Follow me on twitter</span>!
                </a>
            </div>
            <div class="footer__right">
            </div>
        </footer>
    </div>
    <!-- Yandex.Metrika counter --><script type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter20478625 = new Ya.Metrika({id:20478625, clickmap:true, trackLinks:true, accurateTrackBounce:true, trackHash:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</script><noscript><div><img src="//mc.yandex.ru/watch/20478625" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
    <script src="http://yandex.st/jquery/1.7.2/jquery.min.js"></script>
    <script src="/desktop.bundles/index/index.min.js" async defer></script>
</body>
</html>
